<!DOCTYPE html>
<!--[if lte IE 8]><html class="ie lte8"><![endif]-->
<!--[if IE]><html class="ie"><![endif]-->
<!--[if !IE]><!--><html><!--<![endif]-->
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>手机端调试 ASP.NET 网站 | 殷东亮的博客</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0,maximum-scale=1.3, user-scalable=no" />
    <meta name="description" content="公司之前一个项目是采用 ASP.NET 开发，第一次使用 Visual Studio 写代码，感觉挺好用的说。然而，在调试时，有一个问题困扰了我，就是无法在手机预览调试。" />
    <meta name="keywords" content="SharpProxy, ASP.NET, 移动端" />
    <meta name="author" content="fooleap" />
    <meta http-equiv="Cache-Control" content="no-transform" />
    <meta http-equiv="Cache-Control" content="no-siteapp" />
    <link rel="canonical" href="http://127.0.0.1:4000/sharpproxy" />
    <link rel="stylesheet" type="text/css" href="/assets/css/style.css" />
    <link rel="icon" href="/favicon.png" />
    <link rel="alternate" type="application/atom+xml" title="殷东亮的博客 Atom Feed" href="http://blog.fooleap.org/atom.xml" />
    <script type="text/javascript" src="/assets/js/modernizr.js"></script>
    <!--[if lte IE 9]>
      <script src="/assets/js/html5shiv.min.js"></script>
      <script src="/assets/js/respond.min.js"></script>
      <script src="/assets/js/classList.min.js"></script>
      <script type="text/javascript">
        document.createElement('main');
      </script>
    <![endif]-->
  </head>
  <body>
  <nav id="navigation">
      <ul class="navigation-list hide">
          <li><a href="/" class="navigation-item"><i class="icon-home"></i>首页</a></li>
          <li><a href="/archive.html" class="navigation-item"><i class="icon-box"></i>归档</a></li>
          <li><a href="/about.html" class="navigation-item"><i class="icon-user"></i>关于</a></li>
      </ul>
      <i id="menu" class="icon icon-menu"></i>
  </nav>
  
  <div class="container">
    <main class="wrapper">
      <header class="site-header">
        <h1>
          手机端调试 ASP.NET 网站
        </h1>
        <h2 class="sub-heading">
            <i class="icon-calendar"></i><time datetime="2016-06-14">2016 年 06 月 14 日</time>
        </h2>
      </header>
  <article class="post-content">
    
  <div class="main-content">
<p>公司之前一个项目是采用 ASP.NET 开发，第一次使用 Visual Studio 写代码，感觉挺好用的说。然而，在调试时，有一个问题困扰了我，就是无法在手机预览调试。</p>

<p>同在一个局域网的手机并不能通过 IP 直接访问到本地网站，在 PC 端也仅能使用类似 <code class="highlighter-rouge">http://localhost:15002/</code> 这样的地址访问，如果采用 <code class="highlighter-rouge">http://127.0.0.1:15002/</code> 或者本机局域网地址来访问的时候，则显示 400 错误。</p>

<p>移动端网站无法采用手机来调试，真的挺麻烦的，毕竟电脑上没法提供真实手机环境，尤其是 iOS。我相信一定很多人跟我一样碰到这个问题，先用 Google 搜搜看有木有解决方法，是否通过设置即可解决。</p>

<p>通过搜索，我发现了一篇文章<a href="http://www.codefromjames.com/wordpress/?p=97" title="Test and debug your ASP.NET sites on iPhone / iOS, Android, and other mobile devices locally with SharpProxy">[1]</a>，找到了作者制作并开源一个好用的小工具——SharpProxy<a href="https://github.com/jocull/SharpProxy" title="jocull/SharpProxy">[2]</a>。</p>

<p>作者的需求跟我一模一样，是为了手机能够访问通过 Visual Studio 创建的本地开发服务器。于是呢，小工具就刚好适用。</p>

<p>小工具需要 .NET 4.0 framework 的环境，使用起来很简单，先让手机位于同 PC 一样的局域网内，设置一个外部端口（External Port），一个内部端口（Internal Port），猛戳开始（Start）即可。</p>

<p>外部端口自定义，只要没被占用的端口都可以使用；内部端口即项目设置的端口，例如上面的 <code class="highlighter-rouge">15002</code>。</p>

<p><img src="http://source.fooleap.org/sharpproxy-01.png" alt="SharpProxy" />
SharpProxy</p>

<p>开启之后，之前提及的 <code class="highlighter-rouge">http://127.0.0.1:15002/</code> 及局域网地址 <code class="highlighter-rouge">http://10.0.0.30:150002/</code> 均能访问，手机端当然是采用局域网地址访问该网站。</p>

<p>浏览其项目时发现有人 Fork 并增加显示外部地址二维码的功能<a href="https://github.com/mjbrusso/SharpProxy" title="mjbrusso/SharpProxy">[3]</a>，也就是说手机访问可以直接通过扫码，这样使用起来就更加方便了。</p>

<p><img src="http://source.fooleap.org/sharpproxy-02.png" alt="带二维码的 SharpProxy" />
带二维码的 SharpProxy</p>

<p>带二维码的 SharpProxy，这里传一个，下载地址： <a href="http://source.fooleap.org/SharpProxy.zip">SharpProxy.zip</a></p>

<p>当然其他解决方法应该还不少<a href="http://blog.csdn.net/qiujuer/article/details/40350385" title="[环境搭建] VS-Visual Studio-IIS Express 支持局域网访问">[4]</a>，而鄙人就感觉这个小工具挺方便的，无需改配置。</p>

<h2 id="id-section">参考资料</h2>


  </div>

  <div id="posts">
    <div id="random-posts" class="posts">
      <strong>猜你喜欢</strong>
      <ul>
      </ul>
    </div>
  
    <div id="recent-posts" class="posts">
      <strong>最近更新</strong>
      <ul>
      
        <li><a href="/configuring-ip-address-by-specifying-gateway" title="配置特定 IP 地址走指定网关">配置特定 IP 地址走指定网关 </a></li>
      
        <li><a href="/add-google-satellite-layer-in-amap" title="高德地图 API 叠加谷歌地图图层">高德地图 API 叠加谷歌地图图层 </a></li>
      
        <li><a href="/from-codoon-to-nikeplus" title="将咕咚的数据导入到 Nike+">将咕咚的数据导入到 Nike+ </a></li>
      
        <li><a href="/the-influence-of-sports-apps" title="运动 APP 的作用">运动 APP 的作用 </a></li>
      
        <li><a href="/the-last-run-of-june" title="今年 6 月的最后一次跑步">今年 6 月的最后一次跑步 </a></li>
      
      </ul>
    </div>
  </div>

  <div id="info" class="tech">

    <span id="share">
  <div id="qrcode"></div>
  <a id="wechat" title="分享到微信" data-wechat-url="http://127.0.0.1:4000/sharpproxy" href="javascript:void(0);"><i class="icon-wechat"></i></a>
  <a id="weibo" target="_blank" title="分享到微博" href="http://service.weibo.com/share/share.php?title=手机端调试 ASP.NET 网站 | 殷东亮的博客 via @&amp;url=http://127.0.0.1:4000/sharpproxy&amp;type=3&amp;searchPic=1"><i class="icon-weibo"></i></a>
  <a id="qzone" target="_blank" title="分享到 QQ 空间" href="http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=http://127.0.0.1:4000/sharpproxy&amp;title=手机端调试 ASP.NET 网站 | 殷东亮的博客&amp;summary=公司之前一个项目是采用 ASP.NET 开发，第一次使用 Visual Studio 写代码，感觉挺好用的说。然而，在调试时，有一个问题困扰了我，就是无法在手机预览调试。&amp;site=http://127.0.0.1:4000"><i class="icon-qzone"></i></a>
  <a id="twitter" target="_blank" title="Share to Twitter" href="https://twitter.com/intent/tweet?url=http://127.0.0.1:4000/sharpproxy&amp;text=手机端调试 ASP.NET 网站｜殷东亮的博客&amp;via="><i class="icon-twitter"></i></a>
  <a id="facebook" target="_blank" title="Share to Facebook" href="http://www.facebook.com/sharer.php?u=http://127.0.0.1:4000/sharpproxy&amp;t=手机端调试 ASP.NET 网站 | 殷东亮的博客"><i class="icon-facebook-official"></i></a>
  <a id="gplus" target="_blank" title="Share to Google+" href="https://plus.google.com/share?url=http://127.0.0.1:4000/sharpproxy"><i class="icon-gplus-squared"></i></a>
</span>


    <span class='like'><a href="javascript:void(0)" title=""><i class="icon-heart-empty"></i> <span class="disqus-like-count"></span></a></span>
    <span class='view-code'><a href="javascript:void(0)" data-md="https://raw.githubusercontent.com/fooleap/fooleap.github.io/master/_posts/2016-06-14-sharpproxy.md" title="在正文中查看源码"><i class="icon-file-code"></i>源码</a></span>
    <span class="number-of-word"><i class="icon-calc"></i>858 字</span>
    <span class="page-tags"><i class="icon-tags"></i><ul class="tags"> <li class="tag"><a href="/tags.html#SharpProxy" target="_blank" title="查看“SharpProxy”的相关文章">SharpProxy</a></li><li class="tag"><a href="/tags.html#ASP.NET" target="_blank" title="查看“ASP.NET”的相关文章">ASP.NET</a></li><li class="tag"><a href="/tags.html#移动端" target="_blank" title="查看“移动端”的相关文章">移动端</a></li></ul></span>
  </div>

</article>

<div class="comment" id="disqus_thread">
    <a class="show-comments" href="http://127.0.0.1:4000/sharpproxy#disqus_thread" data-disqus-identifier="/sharpproxy"><span class="has-comment"><i class="icon-chat-empty"></i> 留下</span>评论 <span class="disqus-comment-count" data-disqus-url="http://127.0.0.1:4000/sharpproxy"></span></a>
</div>

  
      <footer class="site-footer">
        <small>&copy; 2012-2016 by Jekyll Theme</small>
      </footer>
  
    </main>

  </div>
  <div id="backtotop">
    <i class="icon-up-big"></i>
  </div>
  <script type="text/javascript" src="/assets/js/main.js"></script>
  </body>
</html>
